---
title: maix.ext_dev.axp2101
---

maix.ext_dev.axp2101 module


> You can use `maix.ext_dev.axp2101` to access this module with MaixPy
> This module is generated from [MaixPy](https://github.com/sipeed/MaixPy) and [MaixCDK](https://github.com/sipeed/MaixCDK)

## Module {#Module}

No module


## Enum {#Enum}

### ChargerStatus {#ChargerStatus}

charger status

| item | describe |
| --- | --- |
| **values** | **CHG_TRI_STATE**: tri_charge<br>**CHG_PRE_STATE**: pre_charge<br>**CHG_CC_STATE**: constant charge<br>**CHG_CV_STATE**: constant voltage<br>**CHG_DONE_STATE**: charge done<br>**CHG_STOP_STATE**: not charge<br>
> C++ defination code:
> ```cpp
> enum class ChargerStatus {
>         CHG_TRI_STATE,   //tri_charge
>         CHG_PRE_STATE,   //pre_charge
>         CHG_CC_STATE,    //constant charge
>         CHG_CV_STATE,    //constant voltage
>         CHG_DONE_STATE,  //charge done
>         CHG_STOP_STATE,  //not charge
>     }
> ```
### ChargerCurrent {#ChargerCurrent}

charger current

| item | describe |
| --- | --- |
| **values** | **CHG_CUR_0MA**: <br>**CHG_CUR_100MA**: <br>**CHG_CUR_125MA**: <br>**CHG_CUR_150MA**: <br>**CHG_CUR_175MA**: <br>**CHG_CUR_200MA**: <br>**CHG_CUR_300MA**: <br>**CHG_CUR_400MA**: <br>**CHG_CUR_500MA**: <br>**CHG_CUR_600MA**: <br>**CHG_CUR_700MA**: <br>**CHG_CUR_800MA**: <br>**CHG_CUR_900MA**: <br>**CHG_CUR_1000MA**: <br>
> C++ defination code:
> ```cpp
> enum class ChargerCurrent {
>         CHG_CUR_0MA,
>         CHG_CUR_100MA = 4,
>         CHG_CUR_125MA,
>         CHG_CUR_150MA,
>         CHG_CUR_175MA,
>         CHG_CUR_200MA,
>         CHG_CUR_300MA,
>         CHG_CUR_400MA,
>         CHG_CUR_500MA,
>         CHG_CUR_600MA,
>         CHG_CUR_700MA,
>         CHG_CUR_800MA,
>         CHG_CUR_900MA,
>         CHG_CUR_1000MA,
>     }
> ```
### PowerChannel {#PowerChannel}

power channel

| item | describe |
| --- | --- |
| **values** | **DCDC1**: <br>**DCDC2**: <br>**DCDC3**: <br>**DCDC4**: <br>**DCDC5**: <br>**ALDO1**: <br>**ALDO2**: <br>**ALDO3**: <br>**ALDO4**: <br>**BLDO1**: <br>**BLDO2**: <br>**DLDO1**: <br>**DLDO2**: <br>**VBACKUP**: <br>**CPULDO**: <br>
> C++ defination code:
> ```cpp
> enum class PowerChannel {
>         DCDC1,
>         DCDC2,
>         DCDC3,
>         DCDC4,
>         DCDC5,
>         ALDO1,
>         ALDO2,
>         ALDO3,
>         ALDO4,
>         BLDO1,
>         BLDO2,
>         DLDO1,
>         DLDO2,
>         VBACKUP,
>         CPULDO,
>     }
> ```
### PowerOffTime {#PowerOffTime}

power off time

| item | describe |
| --- | --- |
| **values** | **POWEROFF_4S**: <br>**POWEROFF_6S**: <br>**POWEROFF_8S**: <br>**POWEROFF_10S**: <br>**POWEROFF_DISABLE**: <br>
> C++ defination code:
> ```cpp
> enum class PowerOffTime {
>         POWEROFF_4S,
>         POWEROFF_6S,
>         POWEROFF_8S,
>         POWEROFF_10S,
>         POWEROFF_DISABLE = 65535,
>     }
> ```
### PowerOnTime {#PowerOnTime}

power on time

| item | describe |
| --- | --- |
| **values** | **POWERON_128MS**: <br>**POWERON_512MS**: <br>**POWERON_1S**: <br>**POWERON_2S**: <br>
> C++ defination code:
> ```cpp
> enum class PowerOnTime {
>         POWERON_128MS,
>         POWERON_512MS,
>         POWERON_1S,
>         POWERON_2S,
>     }
> ```


## Variable {#Variable}



## Function {#Function}



## Class {#Class}

### AXP2101 {#AXP2101}

Peripheral AXP2101 class


> C++ defination code:
> ```cpp
> class AXP2101
> ```

#### \_\_init\_\_ {#\_\_init\_\_}

```python
def __init__(self, i2c_bus: int = -1, addr: int = 52) -> None
```
AXP2101 constructor.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **i2c_bus**: i2c bus number.<br>**addr**: pmu device addr.<br>|
| **static** | False |

> C++ defination code:
> ```cpp
> AXP2101(int i2c_bus = -1, uint8_t addr = 0x34)
> ```
#### init {#init}

```python
def init(self) -> maix.err.Err
```
Initialise the AXP2101.

| item | description |
| --- | --- |
| **type** | func |
| **return** | err::Err type, if init success, return err::ERR_NONE. |
| **static** | False |

> C++ defination code:
> ```cpp
> err::Err init()
> ```
#### poweroff {#poweroff}

```python
def poweroff(self) -> maix.err.Err
```
Poweroff immediately.

| item | description |
| --- | --- |
| **type** | func |
| **return** | err::Err type, if init success, return err::ERR_NONE. |
| **static** | False |

> C++ defination code:
> ```cpp
> err::Err poweroff()
> ```
#### is\_bat\_connect {#is\_bat\_connect}

```python
def is_bat_connect(self) -> bool
```
Is the battery connected.

| item | description |
| --- | --- |
| **type** | func |
| **return** | bool type, if battery is connected, return true. |
| **static** | False |

> C++ defination code:
> ```cpp
> bool is_bat_connect()
> ```
#### is\_vbus\_in {#is\_vbus\_in}

```python
def is_vbus_in(self) -> bool
```
Is the power adapter connected.

| item | description |
| --- | --- |
| **type** | func |
| **return** | bool type, if power adapter is connected, return true. |
| **static** | False |

> C++ defination code:
> ```cpp
> bool is_vbus_in()
> ```
#### is\_charging {#is\_charging}

```python
def is_charging(self) -> bool
```
Is bat charging.

| item | description |
| --- | --- |
| **type** | func |
| **return** | bool type, if bat is charging, return true. |
| **static** | False |

> C++ defination code:
> ```cpp
> bool is_charging()
> ```
#### get\_bat\_percent {#get\_bat\_percent}

```python
def get_bat_percent(self) -> int
```
Get the battery percentage.

| item | description |
| --- | --- |
| **type** | func |
| **return** | int type, return battery percentage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int get_bat_percent()
> ```
#### get\_charger\_status {#get\_charger\_status}

```python
def get_charger_status(self) -> ChargerStatus
```
Get the battery charging status.

| item | description |
| --- | --- |
| **type** | func |
| **return** | int type, return battery charging status. |
| **static** | False |

> C++ defination code:
> ```cpp
> ext_dev::axp2101::ChargerStatus get_charger_status()
> ```
#### get\_bat\_vol {#get\_bat\_vol}

```python
def get_bat_vol(self) -> int
```
Get the battery voltage.

| item | description |
| --- | --- |
| **type** | func |
| **return** | uint16_t type, return battery voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> uint16_t get_bat_vol()
> ```
#### clean\_irq {#clean\_irq}

```python
def clean_irq(self) -> maix.err.Err
```
Clear interrupt flag.

| item | description |
| --- | --- |
| **type** | func |
| **return** | err::Err type, if clean success, return err::ERR_NONE. |
| **static** | False |

> C++ defination code:
> ```cpp
> err::Err clean_irq()
> ```
#### set\_bat\_charging\_cur {#set\_bat\_charging\_cur}

```python
def set_bat_charging_cur(self, current: ChargerCurrent) -> maix.err.Err
```
Set the battery charging current.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **current**: The current to be set.<br>The available values are 0mA, 100mA, 125mA, 150mA, 175mA,<br>200mA, 300mA, 400mA, 500mA, 600mA, 700mA, 800mA, 900mA, and 1000mA.<br>|
| **return** | err::Err type, if set success, return err::ERR_NONE. |
| **static** | False |

> C++ defination code:
> ```cpp
> err::Err set_bat_charging_cur(ext_dev::axp2101::ChargerCurrent current)
> ```
#### get\_bat\_charging\_cur {#get\_bat\_charging\_cur}

```python
def get_bat_charging_cur(self) -> ChargerCurrent
```
Get the battery charging current.

| item | description |
| --- | --- |
| **type** | func |
| **return** | ChargerCurrent, return the currently set charging current. |
| **static** | False |

> C++ defination code:
> ```cpp
> ext_dev::axp2101::ChargerCurrent get_bat_charging_cur()
> ```
#### dcdc1 {#dcdc1}

```python
def dcdc1(self, voltage: int = -1) -> int
```
Set and get the PMU DCDC1 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 1500mV~3400mV(step 20mV).<br>|
| **return** | int, return the PMU DCDC1 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int dcdc1(int voltage = -1)
> ```
#### dcdc2 {#dcdc2}

```python
def dcdc2(self, voltage: int = -1) -> int
```
Set and get the PMU DCDC2 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~1200mV(step 10mV) and 1220mV~1540mV(step 20mV).<br>|
| **return** | int, return the PMU DCDC2 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int dcdc2(int voltage = -1)
> ```
#### dcdc3 {#dcdc3}

```python
def dcdc3(self, voltage: int = -1) -> int
```
Set and get the PMU DCDC3 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~1200mV(step 10mV) and 1220mV~1540mV(step 20mV).<br>|
| **return** | int, return the PMU DCDC3 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int dcdc3(int voltage = -1)
> ```
#### dcdc4 {#dcdc4}

```python
def dcdc4(self, voltage: int = -1) -> int
```
Set and get the PMU DCDC4 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~1200mV(step 10mV) and 1220mV~1840mV(step 20mV).<br>|
| **return** | int, return the PMU DCDC4 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int dcdc4(int voltage = -1)
> ```
#### dcdc5 {#dcdc5}

```python
def dcdc5(self, voltage: int = -1) -> int
```
Set and get the PMU DCDC5 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 1400mV~3700mV(step 100mV).<br>|
| **return** | int, return the PMU DCDC5 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int dcdc5(int voltage = -1)
> ```
#### aldo1 {#aldo1}

```python
def aldo1(self, voltage: int = -1) -> int
```
Set and get the PMU ALDO1 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~3500mV(step 100mV).<br>|
| **return** | int, return the PMU ALDO1 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int aldo1(int voltage = -1)
> ```
#### aldo2 {#aldo2}

```python
def aldo2(self, voltage: int = -1) -> int
```
Set and get the PMU ALDO2 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~3500mV(step 100mV).<br>|
| **return** | int, return the PMU ALDO2 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int aldo2(int voltage = -1)
> ```
#### aldo3 {#aldo3}

```python
def aldo3(self, voltage: int = -1) -> int
```
Set and get the PMU ALDO3 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~3500mV(step 100mV).<br>|
| **return** | int, return the PMU ALDO3 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int aldo3(int voltage = -1)
> ```
#### aldo4 {#aldo4}

```python
def aldo4(self, voltage: int = -1) -> int
```
Set and get the PMU ALDO4 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~3500mV(step 100mV).<br>|
| **return** | int, return the PMU ALDO4 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int aldo4(int voltage = -1)
> ```
#### bldo1 {#bldo1}

```python
def bldo1(self, voltage: int = -1) -> int
```
Set and get the PMU BLDO1 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~3500mV(step 100mV).<br>|
| **return** | int, return the PMU BLDO1 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int bldo1(int voltage = -1)
> ```
#### bldo2 {#bldo2}

```python
def bldo2(self, voltage: int = -1) -> int
```
Set and get the PMU BLDO2 voltage.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **voltage**: The voltage to be set,<br>voltage range is 500mV~3500mV(step 100mV).<br>|
| **return** | int, return the PMU BLDO2 voltage. |
| **static** | False |

> C++ defination code:
> ```cpp
> int bldo2(int voltage = -1)
> ```
#### set\_poweroff\_time {#set\_poweroff\_time}

```python
def set_poweroff_time(self, tm: PowerOffTime) -> maix.err.Err
```
Set power-off time, The device will shut down\nif the power button is held down longer than this time.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **tm**: The time to be set, you can set it to 4s, 6s, 8s, or 10s.<br>|
| **return** | err::Err type, if set success, return err::ERR_NONE. |
| **static** | False |

> C++ defination code:
> ```cpp
> err::Err set_poweroff_time(ext_dev::axp2101::PowerOffTime tm)
> ```
#### get\_poweroff\_time {#get\_poweroff\_time}

```python
def get_poweroff_time(self) -> PowerOffTime
```
Get power-off time.

| item | description |
| --- | --- |
| **type** | func |
| **return** | PowerOffTime, return power-off time. |
| **static** | False |

> C++ defination code:
> ```cpp
> ext_dev::axp2101::PowerOffTime get_poweroff_time()
> ```
#### set\_poweron\_time {#set\_poweron\_time}

```python
def set_poweron_time(self, tm: PowerOnTime) -> maix.err.Err
```
Set power-on time, The device will power on\nif the power button is held down longer than this time.

| item | description |
| --- | --- |
| **type** | func |
| **param** | **tm**: The time to be set, you can set it to 128ms, 512ms, 1s, or 2s.<br>|
| **return** | err::Err type, if set success, return err::ERR_NONE. |
| **static** | False |

> C++ defination code:
> ```cpp
> err::Err set_poweron_time(ext_dev::axp2101::PowerOnTime tm)
> ```
#### get\_poweron\_time {#get\_poweron\_time}

```python
def get_poweron_time(self) -> PowerOnTime
```
Get power-on time.

| item | description |
| --- | --- |
| **type** | func |
| **return** | PowerOnTime, return power-on time. |
| **static** | False |

> C++ defination code:
> ```cpp
> ext_dev::axp2101::PowerOnTime get_poweron_time()
> ```
